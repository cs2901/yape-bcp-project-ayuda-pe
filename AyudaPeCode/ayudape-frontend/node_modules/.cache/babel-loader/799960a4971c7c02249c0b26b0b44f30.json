{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/UTEC/Ingenier\\xEDa de Software I/yape-bcp-project-ayuda-pe/AyudaPeCode/ayudape-frontend/src/components/MessageList.js\";\nimport React, { Component } from 'react';\nimport '../style.css';\nimport Message from './Message';\nimport PropTypes from 'prop-types';\nimport lifecycle from 'react-pure-lifecycle';\n\nclass MessageList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      messages: this.props.messages\n    };\n\n    this.scrollToBottom = () => {\n      this.messagesEnd[this.i].scrollIntoView({\n        behavior: \"smooth\"\n      });\n    };\n\n    this.messagesEnd = [];\n    this.i = 0;\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.messages !== prevState.messages) {\n      return {\n        messages: nextProps.messages\n      };\n    }\n\n    return null;\n  }\n\n  componentDidUpdate() {\n    setTimeout(this.scrollToBottom, 750);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"message-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, this.state.messages.map((message, index) => {\n      console.log(message);\n\n      if (message.sender) {\n        this.i = index;\n      }\n\n      return React.createElement(Message, {\n        key: index,\n        text: message.text,\n        sender: message.sender,\n        source: message.source,\n        handler: () => {\n          message.handler();\n        },\n        ref: el => {\n          this.messagesEnd.push(el);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      });\n    }));\n  }\n\n}\n\n;\nMessageList.propTypes = {\n  messages: PropTypes.array.isRequired\n};\nexport default MessageList;","map":{"version":3,"sources":["/home/nicolas/UTEC/IngenierÃ­a de Software I/yape-bcp-project-ayuda-pe/AyudaPeCode/ayudape-frontend/src/components/MessageList.js"],"names":["React","Component","Message","PropTypes","lifecycle","MessageList","constructor","state","messages","props","scrollToBottom","messagesEnd","i","scrollIntoView","behavior","getDerivedStateFromProps","nextProps","prevState","componentDidUpdate","setTimeout","render","map","message","index","console","log","sender","text","source","handler","el","push","propTypes","array","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAO,cAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAEhCK,EAAAA,WAAW,GAAE;AACX;AADW,SADbC,KACa,GADL;AAACC,MAAAA,QAAQ,EAAC,KAAKC,KAAL,CAAWD;AAArB,KACK;;AAAA,SAKbE,cALa,GAKI,MAAM;AACrB,WAAKC,WAAL,CAAiB,KAAKC,CAAtB,EAAyBC,cAAzB,CAAwC;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAxC;AACD,KAPY;;AAEX,SAAKH,WAAL,GAAmB,EAAnB;AACA,SAAKC,CAAL,GAAS,CAAT;AACD;;AAID,SAAOG,wBAAP,CAAgCC,SAAhC,EAA0CC,SAA1C,EAAoD;AAClD,QAAGD,SAAS,CAACR,QAAV,KAAuBS,SAAS,CAACT,QAApC,EAA6C;AAC7C,aAAO;AAACA,QAAAA,QAAQ,EAAEQ,SAAS,CAACR;AAArB,OAAP;AACC;;AACD,WAAO,IAAP;AACD;;AACDU,EAAAA,kBAAkB,GAAG;AACjBC,IAAAA,UAAU,CAAC,KAAKT,cAAN,EAAqB,GAArB,CAAV;AACH;;AACDU,EAAAA,MAAM,GAAE;AACN,WACA;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKb,KAAL,CAAWC,QAAX,CAAoBa,GAApB,CAAwB,CAACC,OAAD,EAAUC,KAAV,KAAoB;AACvCC,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;;AACA,UAAGA,OAAO,CAACI,MAAX,EAAkB;AAAC,aAAKd,CAAL,GAASW,KAAT;AAAgB;;AACnC,aACE,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAEA,KAAd;AAAqB,QAAA,IAAI,EAAED,OAAO,CAACK,IAAnC;AAAyC,QAAA,MAAM,EAAEL,OAAO,CAACI,MAAzD;AAAiE,QAAA,MAAM,EAAEJ,OAAO,CAACM,MAAjF;AAAyF,QAAA,OAAO,EAAE,MAAI;AAACN,UAAAA,OAAO,CAACO,OAAR;AAAkB,SAAzH;AAA2H,QAAA,GAAG,EAAGC,EAAD,IAAQ;AAAE,eAAKnB,WAAL,CAAiBoB,IAAjB,CAAsBD,EAAtB;AAA4B,SAAtK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGH,KANF,CADD,CADA;AAWD;;AA/B+B;;AAgCnC;AAEDzB,WAAW,CAAC2B,SAAZ,GAAwB;AACpBxB,EAAAA,QAAQ,EAAEL,SAAS,CAAC8B,KAAV,CAAgBC;AADN,CAAxB;AAIA,eAAe7B,WAAf","sourcesContent":["import React,{Component} from 'react'\nimport '../style.css'\nimport Message from './Message'\nimport PropTypes from 'prop-types'\nimport lifecycle from 'react-pure-lifecycle';\n\nclass MessageList extends Component {\n    state = {messages:this.props.messages}\n    constructor(){\n      super();\n      this.messagesEnd = [];\n      this.i = 0;\n    }\n    scrollToBottom = () => {\n      this.messagesEnd[this.i].scrollIntoView({ behavior: \"smooth\"});\n    }\n    static getDerivedStateFromProps(nextProps,prevState){\n      if(nextProps.messages !== prevState.messages){\n      return {messages: nextProps.messages};\n      }\n      return null;\n    }\n    componentDidUpdate() {\n        setTimeout(this.scrollToBottom,750);\n    }\n    render(){\n      return(\n      <div className=\"message-list\">\n      {this.state.messages.map((message, index) => {\n            console.log(message)\n            if(message.sender){this.i = index;}\n            return (\n              <Message key={index} text={message.text} sender={message.sender} source={message.source} handler={()=>{message.handler()}} ref={(el) => { this.messagesEnd.push(el); }}/>\n            )\n        })}\n        </div>\n      )\n    }\n};\n\nMessageList.propTypes = {\n    messages: PropTypes.array.isRequired\n};\n\nexport default MessageList;\n"]},"metadata":{},"sourceType":"module"}
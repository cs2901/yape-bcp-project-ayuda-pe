{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/UTEC/Ingenier\\xEDa de Software I/yape-bcp-project-ayuda-pe/AyudaPeCode/ayudape-frontend/src/components/MessageList.js\";\nimport React, { Component } from 'react';\nimport '../style.css';\nimport Message from './Message';\nimport PropTypes from 'prop-types';\nimport lifecycle from 'react-pure-lifecycle';\n\nclass MessageList extends Component {\n  constructor() {}\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.messages !== prevState.messages) {\n      return {\n        messages: nextProps.messages\n      };\n    }\n\n    return null;\n  }\n\n  componentDidUpdate() {\n    setTimeout(this.scrollToBottom, 750);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"message-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, this.state.messages.map((message, index) => {\n      console.log(message);\n\n      if (message.sender) {\n        this.i = index;\n      }\n\n      return React.createElement(Message, {\n        key: index,\n        text: message.text,\n        sender: message.sender,\n        source: message.source,\n        handler: () => {\n          message.handler();\n        },\n        ref: el => {\n          this.messagesEnd.push(el);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      });\n    }));\n  }\n\n}\n\n;\nMessageList.propTypes = {\n  messages: PropTypes.array.isRequired\n};\nexport default MessageList;","map":{"version":3,"sources":["/home/nicolas/UTEC/IngenierÃ­a de Software I/yape-bcp-project-ayuda-pe/AyudaPeCode/ayudape-frontend/src/components/MessageList.js"],"names":["React","Component","Message","PropTypes","lifecycle","MessageList","constructor","getDerivedStateFromProps","nextProps","prevState","messages","componentDidUpdate","setTimeout","scrollToBottom","render","state","map","message","index","console","log","sender","i","text","source","handler","el","messagesEnd","push","propTypes","array","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAO,cAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAEhCK,EAAAA,WAAW,GAAE,CAEZ;;AAMD,SAAOC,wBAAP,CAAgCC,SAAhC,EAA0CC,SAA1C,EAAoD;AAClD,QAAGD,SAAS,CAACE,QAAV,KAAuBD,SAAS,CAACC,QAApC,EAA6C;AAC7C,aAAO;AAACA,QAAAA,QAAQ,EAAEF,SAAS,CAACE;AAArB,OAAP;AACC;;AACD,WAAO,IAAP;AACD;;AACDC,EAAAA,kBAAkB,GAAG;AACjBC,IAAAA,UAAU,CAAC,KAAKC,cAAN,EAAqB,GAArB,CAAV;AACH;;AACDC,EAAAA,MAAM,GAAE;AACN,WACA;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKC,KAAL,CAAWL,QAAX,CAAoBM,GAApB,CAAwB,CAACC,OAAD,EAAUC,KAAV,KAAoB;AACvCC,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;;AACA,UAAGA,OAAO,CAACI,MAAX,EAAkB;AAAC,aAAKC,CAAL,GAASJ,KAAT;AAAgB;;AACnC,aACE,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAEA,KAAd;AAAqB,QAAA,IAAI,EAAED,OAAO,CAACM,IAAnC;AAAyC,QAAA,MAAM,EAAEN,OAAO,CAACI,MAAzD;AAAiE,QAAA,MAAM,EAAEJ,OAAO,CAACO,MAAjF;AAAyF,QAAA,OAAO,EAAE,MAAI;AAACP,UAAAA,OAAO,CAACQ,OAAR;AAAkB,SAAzH;AAA2H,QAAA,GAAG,EAAGC,EAAD,IAAQ;AAAE,eAAKC,WAAL,CAAiBC,IAAjB,CAAsBF,EAAtB;AAA4B,SAAtK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGH,KANF,CADD,CADA;AAWD;;AA/B+B;;AAgCnC;AAEDrB,WAAW,CAACwB,SAAZ,GAAwB;AACpBnB,EAAAA,QAAQ,EAAEP,SAAS,CAAC2B,KAAV,CAAgBC;AADN,CAAxB;AAIA,eAAe1B,WAAf","sourcesContent":["import React,{Component} from 'react'\nimport '../style.css'\nimport Message from './Message'\nimport PropTypes from 'prop-types'\nimport lifecycle from 'react-pure-lifecycle';\n\nclass MessageList extends Component {\n    state = {messages:this.props.messages}\n    constructor(){\n      \n    }\n    messagesEnd = [];\n    i = 0;\n    scrollToBottom = () => {\n      this.messagesEnd[this.i].scrollIntoView({ behavior: \"smooth\"});\n    }\n    static getDerivedStateFromProps(nextProps,prevState){\n      if(nextProps.messages !== prevState.messages){\n      return {messages: nextProps.messages};\n      }\n      return null;\n    }\n    componentDidUpdate() {\n        setTimeout(this.scrollToBottom,750);\n    }\n    render(){\n      return(\n      <div className=\"message-list\">\n      {this.state.messages.map((message, index) => {\n            console.log(message)\n            if(message.sender){this.i = index;}\n            return (\n              <Message key={index} text={message.text} sender={message.sender} source={message.source} handler={()=>{message.handler()}} ref={(el) => { this.messagesEnd.push(el); }}/>\n            )\n        })}\n        </div>\n      )\n    }\n};\n\nMessageList.propTypes = {\n    messages: PropTypes.array.isRequired\n};\n\nexport default MessageList;\n"]},"metadata":{},"sourceType":"module"}
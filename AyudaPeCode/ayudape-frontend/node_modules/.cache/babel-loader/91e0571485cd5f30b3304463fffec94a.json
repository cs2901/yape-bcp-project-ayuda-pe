{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/UTEC/Ingenier\\xEDa de Software I/yape-bcp-project-ayuda-pe/AyudaPeCode/ayudape-frontend/src/components/MessageList.js\";\nimport React, { Component } from 'react';\nimport '../style.css';\nimport Message from './Message';\nimport PropTypes from 'prop-types';\nimport lifecycle from 'react-pure-lifecycle';\n\nclass MessageList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      messages: this.props.messages\n    };\n\n    this.scrollToBottom = () => {\n      this.messagesEnd[this.i].scrollIntoView({\n        behavior: \"smooth\"\n      });\n    };\n\n    this.messagesEnd = [];\n    this.i = 0;\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.messages !== prevState.messages) {\n      return {\n        messages: nextProps.messages\n      };\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(props) {\n    setTimeout(scrollToBottom, 750);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"message-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, messages.map((message, index) => {\n      console.log(message);\n\n      if (message.sender) {\n        this.i = index;\n      }\n\n      return React.createElement(Message, {\n        key: index,\n        text: message.text,\n        sender: message.sender,\n        source: message.source,\n        handler: () => {\n          message.handler();\n        },\n        ref: el => {\n          messagesEnd.push(el);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      });\n    }));\n  }\n\n}\n\n;\nMessageList.propTypes = {\n  messages: PropTypes.array.isRequired\n};\nexport default MessageList;","map":{"version":3,"sources":["/home/nicolas/UTEC/IngenierÃ­a de Software I/yape-bcp-project-ayuda-pe/AyudaPeCode/ayudape-frontend/src/components/MessageList.js"],"names":["React","Component","Message","PropTypes","lifecycle","MessageList","state","messages","props","scrollToBottom","messagesEnd","i","scrollIntoView","behavior","getDerivedStateFromProps","nextProps","prevState","componentDidUpdate","setTimeout","render","map","message","index","console","log","sender","text","source","handler","el","push","propTypes","array","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAO,cAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAChCK,KADgC,GACxB;AAACC,MAAAA,QAAQ,EAAC,KAAKC,KAAL,CAAWD;AAArB,KADwB;;AAAA,SAEhCE,cAFgC,GAEf,MAAM;AACrB,WAAKC,WAAL,CAAiB,KAAKC,CAAtB,EAAyBC,cAAzB,CAAwC;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAxC;AACD,KAJ+B;;AAAA,SAKhCH,WALgC,GAKlB,EALkB;AAAA,SAMhCC,CANgC,GAM5B,CAN4B;AAAA;;AAOhC,SAAOG,wBAAP,CAAgCC,SAAhC,EAA0CC,SAA1C,EAAoD;AAClD,QAAGD,SAAS,CAACR,QAAV,KAAuBS,SAAS,CAACT,QAApC,EAA6C;AAC7C,aAAO;AAACA,QAAAA,QAAQ,EAAEQ,SAAS,CAACR;AAArB,OAAP;AACC;;AACD,WAAO,IAAP;AACD;;AACDU,EAAAA,kBAAkB,CAACT,KAAD,EAAQ;AACtBU,IAAAA,UAAU,CAACT,cAAD,EAAgB,GAAhB,CAAV;AACH;;AACDU,EAAAA,MAAM,GAAE;AACN,WACA;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCZ,QAAQ,CAACa,GAAT,CAAa,CAACC,OAAD,EAAUC,KAAV,KAAoB;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;;AACA,UAAGA,OAAO,CAACI,MAAX,EAAkB;AAAC,aAAKd,CAAL,GAASW,KAAT;AAAgB;;AACnC,aACE,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAEA,KAAd;AAAqB,QAAA,IAAI,EAAED,OAAO,CAACK,IAAnC;AAAyC,QAAA,MAAM,EAAEL,OAAO,CAACI,MAAzD;AAAiE,QAAA,MAAM,EAAEJ,OAAO,CAACM,MAAjF;AAAyF,QAAA,OAAO,EAAE,MAAI;AAACN,UAAAA,OAAO,CAACO,OAAR;AAAkB,SAAzH;AAA2H,QAAA,GAAG,EAAGC,EAAD,IAAQ;AAAEnB,UAAAA,WAAW,CAACoB,IAAZ,CAAiBD,EAAjB;AAAuB,SAAjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGH,KANF,CADD,CADA;AAWD;;AA5B+B;;AA6BnC;AAEDxB,WAAW,CAAC0B,SAAZ,GAAwB;AACpBxB,EAAAA,QAAQ,EAAEJ,SAAS,CAAC6B,KAAV,CAAgBC;AADN,CAAxB;AAIA,eAAe5B,WAAf","sourcesContent":["import React,{Component} from 'react'\nimport '../style.css'\nimport Message from './Message'\nimport PropTypes from 'prop-types'\nimport lifecycle from 'react-pure-lifecycle';\n\nclass MessageList extends Component {\n    state = {messages:this.props.messages}\n    scrollToBottom = () => {\n      this.messagesEnd[this.i].scrollIntoView({ behavior: \"smooth\"});\n    }\n    messagesEnd = [];\n    i = 0;\n    static getDerivedStateFromProps(nextProps,prevState){\n      if(nextProps.messages !== prevState.messages){\n      return {messages: nextProps.messages};\n      }\n      return null;\n    }\n    componentDidUpdate(props) {\n        setTimeout(scrollToBottom,750);\n    }\n    render(){\n      return(\n      <div className=\"message-list\">\n      {messages.map((message, index) => {\n            console.log(message)\n            if(message.sender){this.i = index;}\n            return (\n              <Message key={index} text={message.text} sender={message.sender} source={message.source} handler={()=>{message.handler()}} ref={(el) => { messagesEnd.push(el); }}/>\n            )\n        })}\n        </div>\n      )\n    }\n};\n\nMessageList.propTypes = {\n    messages: PropTypes.array.isRequired\n};\n\nexport default MessageList;\n"]},"metadata":{},"sourceType":"module"}